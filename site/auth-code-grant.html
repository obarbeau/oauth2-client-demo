<html>
    <head>
        <title>IROH Auth OAuth2 Demos</title>
        <link rel="stylesheet" href="brutalist.css" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="./infos.js"></script>
        <script>
         var displayAuthUrl=oauthServerUrl + "?\n\t"
                   + "response_type=" + encodeURIComponent(response_type) + "\n\t"
                   + "&client_id=" + encodeURIComponent(client_id) + "\n\t"
                   + "&redirect_uri=" + encodeURIComponent(redirect_uri) + "\n\t"
                   + "&scope=" + encodeURIComponent(scope) + "\n\t"
                   + "&state=" + encodeURIComponent(state);

         var authUrl=displayAuthUrl.replace("\n","");
        </script>
    </head>
    <body>
        <h1>IROH Auth: OAuth2 Authorization Code Grant Demo</h1>

        <p>Start by creating a link to Authorize the Application to access your SecureX Account:</p>

        <a id="authURLLink" class="button" href="#">Link to SecureX</a>

        <p><strong>scopes</strong></p>
        <ul id="scopes"></ul>

        <p>The button is just a link to:</p>
        <pre id="displayUrlPre"></pre>

        <script>
         $.when( $.ready ).then(function () {
             $("#displayUrlPre").html(displayAuthUrl);
             $("#authURLLink").attr("href",displayAuthUrl);
             $.each(scopes,function(i,scope){
                 $("#scopes").append("<li>"+scope+"</li>\n");
             })
         });
        </script>
    </body>
</html>
